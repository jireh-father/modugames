# Tactical Range (가제) - 게임 설계 문서

> 리얼 조작감 사격장 서바이벌 게임

## 개요

사격장을 배경으로 한 세로형 무한 서바이벌 게임. 권총과 활을 실제처럼 조작하는 재미와 과녁을 정확히 명중시키는 쾌감이 핵심. 탄약이 모두 소진되면 게임 오버.

## 시장 분석

### 유사 게임
| 게임 | 특징 | 우리와의 차이 |
|------|------|---------------|
| Weaphones Firearms Sim | 리얼 총기 조작 시뮬 | 사격장 없음, 게임성 없음 |
| Receiver / Receiver 2 | 수동 장전 FPS (PC) | PC 전용, 모바일 없음 |
| Guns - Shoot and Reload | 모바일 사격 + 장전 | 조작 깊이 얕음 |
| Gun Shooting Range Aim Master | 사격장 시뮬 | 장전 조작 단순 |

### 차별점
- **리얼 조작 시뮬 + 사격장 게임성 결합** (시장에 거의 없는 조합)
- **총 + 활** 장르 혼합
- **무한 서바이벌 + 아이템 루프**로 리플레이성 확보

## 기술 스택

- **바닐라 HTML5 Canvas** (단일 HTML 파일)
- **Web Audio API** (사운드 합성, 외부 파일 없음)
- **터치/마우스 이벤트** (웹 먼저, 추후 모바일 센서)
- **localStorage** (하이스코어 저장)
- 캔버스 크기: **540 x 960**

## 화면 레이아웃

```
┌─────────────────────────┐
│  점수 / 콤보 / 탄약 수    │  HUD (5%)
├─────────────────────────┤
│                         │
│    ◎  ←과녁     ◎       │
│         ◎              │
│   ▓ 장애물              │  사격장 영역 (65%)
│                         │
│      ★ 드랍 아이템       │
│      🪂 보급품 낙하       │
│                         │
├─────────────────────────┤
│  에이밍: 사격장 드래그     │  에이밍 (사격장 영역 위)
├─────────────────────────┤
│ [🔫][🏹]│  조작부   │    │  하단 조작 (30%)
│ 무기슬롯 │ (무기별)  │    │
└─────────────────────────┘
```

- 사격장은 1인칭 시점, 원근감 표현 (뒤쪽일수록 과녁 작아짐)
- 에이밍: 사격장 영역 드래그로 시야 상하좌우 이동 (자유 조준)
- 웹: 드래그로 에이밍 / 모바일: 자이로스코프 센서 (추후)

## 무기 시스템

### 무기 교체
- 하단 무기 슬롯 탭으로 교체 (권총 ↔ 활)
- 교체 시 짧은 전환 애니메이션

### 권총 조작

```
조작부 레이아웃:

┌────────┬──────────┬─────────────┐
│ 탄창   │   총기   │  방아쇠     │
│        │          │             │
│ ┌──┐   │  ┌────┐  │   ╭───╮    │
│ │○○│   │  │슬라│  │   │   │    │
│ │○○│   │  │이드│  │   │ ◀ │    │
│ │○○│   │  │    │  │   │   │    │
│ │  │   │  └────┘  │   ╰───╯    │
│ └──┘   │          │             │
└────────┴──────────┴─────────────┘
```

**발사 플로우:**
1. 슬라이드를 아래로 드래그 후 놓기 → 장전 완료
2. 방아쇠를 뒤로 드래그 → 발사!
3. 탄약 소진 시 슬라이드 자동 후퇴 (빈 상태 표시)

**재장전 플로우:**
1. 탄창을 왼쪽으로 드래그 → 탄창 분리
2. 총알통에서 총알을 탄창으로 드래그 (하나씩)
3. 탄창을 오른쪽으로 드래그 → 탄창 삽입
4. 슬라이드를 아래로 드래그 후 놓기 → 장전 완료

| 동작 | 제스처 | 피드백 |
|------|--------|--------|
| 슬라이드 장전 | 아래로 드래그 후 놓기 | 철컥 소리 + 진동 |
| 탄창 분리 | 왼쪽으로 드래그 | 찰칵 소리 |
| 탄환 넣기 | 총알→탄창 드래그 | 탁 소리 |
| 탄창 삽입 | 탄창을 오른쪽으로 드래그 | 철컥 소리 |
| 발사 | 방아쇠 뒤로 드래그 | 총성 + 반동 + 화염 |

### 활 조작

```
조작부 레이아웃:

┌────────┬────────────────────────┐
│ 화살통 │       활               │
│        │                        │
│ ┌──┐   │      )                 │
│ │╱ │   │     )  ←시위           │
│ │╱ │   │    )                   │
│ │╱ │   │     )                  │
│ │  │   │      )                 │
│ └──┘   │                        │
└────────┴────────────────────────┘
```

**발사 플로우:**
1. 화살통에서 화살 드래그 → 활 중앙에 드롭 (장전)
2. 시위를 아래로 드래그 (당긴 거리 = 파워)
3. 놓으면 발사!

| 동작 | 제스처 | 피드백 |
|------|--------|--------|
| 화살 꺼내기 | 화살통에서 드래그 | 스윽 소리 |
| 화살 장전 | 활 중앙에 드롭 | 톡 소리 |
| 시위 당기기 | 아래로 드래그 (길게 = 강력) | 삐걱 소리 + 파워 게이지 |
| 발사 | 놓기 | 퉁 소리 + 시위 진동 |

### 무기별 특성 비교
| 속성 | 권총 | 활 |
|------|------|-----|
| 장전 속도 | 느림 (여러 단계) | 빠름 (2단계) |
| 데미지 | 일정 | 파워에 따라 가변 |
| 정밀도 | 높음 | 파워 조절 난이도 |
| 탄약 확보 | 총알통 관리 | 화살통 관리 |

## 사격장 & 과녁 시스템

### 과녁 종류
| 과녁 | 모양 | 특성 |
|------|------|------|
| 일반 | 원형 나무 과녁 | 좌우 이동 |
| 고속 | 작은 과녁 | 빠르게 이동 |
| 금색 특수 | 금색 과녁 | 아이템 확정 드랍 |
| 보너스 | 빨간 과녁 | 잠깐 나타났다 사라짐 |
| 보급품 | 낙하산 달린 상자 | 위에서 천천히 낙하, 맞추면 랜덤 아이템 드랍 |

### 거리 & 원근감
```
먼 거리 ─── 작고 고득점 (3x 배율)
  ◎ (소형, 빠르게 이동)

중간 거리 ─── 보통 (2x 배율)
    ◎ (중형)

가까운 거리 ─── 크고 저득점 (1x 배율)
      ◎ (대형, 느림)
```

### 장애물
- 나무/금속 가림막이 과녁 앞에 배치
- 시간 경과에 따라 장애물 수 증가
- 금색 탄환(관통탄)으로 장애물 무시 가능

### 점수 체계
```
기본 점수 = 부위 점수(1~10점, 중앙일수록 고득점) × 거리 배율(1x/2x/3x)
콤보 보너스 = 연속 명중 시 ×1.5, ×2.0, ×2.5...
```

### 난이도 진행
| 단계 | 과녁 | 장애물 | 특수 |
|------|------|--------|------|
| 초반 | 정지, 크기 대 | 없음 | 금색 자주 출현, 보급품 빈번 |
| 중반 | 좌우 이동, 크기 중 | 가림막 1개 | 고속 과녁 등장 |
| 후반 | 빠른 이동, 크기 소 | 가림막 2~3개 | 금색 희귀, 보너스/보급품 간헐적 |

## 아이템 & 서바이벌 루프

### 드랍 아이템
| 아이템 | 효과 | 드랍 확률 |
|--------|------|-----------|
| 권총 탄환 ×3 | 탄창에 넣을 탄 3발 | 높음 |
| 권총 탄환 ×6 | 탄창에 넣을 탄 6발 | 보통 |
| 화살 ×2 | 화살통에 추가 | 높음 |
| 화살 ×5 | 화살통에 추가 | 보통 |
| 금색 탄환 | 관통탄 (장애물 무시) | 희귀 |
| 폭발 화살 | 범위 피해 | 희귀 |

### 드랍 조건 (4가지 동시 적용)
1. **일반 과녁 명중** → 일정 확률로 드랍
2. **금색 과녁 명중** → 확정 드랍
3. **콤보 달성** (3연속, 5연속...) → 보너스 드랍
4. **보급품 낙하산 명중** → 랜덤 아이템 드랍

### 아이템 획득
- 드랍된 아이템은 사격장 영역에 떨어짐
- **터치/클릭으로 줍기**
- 일정 시간 지나면 사라짐 (깜빡임 경고)

### 서바이벌 루프
```
시작: 권총 탄환 6발 + 화살 3개
  ↓
사격 → 명중 → 점수 획득 + 드랍 찬스
  ↓
아이템 떨어짐 → 터치로 줍기
  ↓
탄약 소진 → 재장전 (리얼 조작)
  ↓
모든 탄약/화살 소진 → 게임 오버!
```

### 긴장감 연출
- 탄약 3발 이하 → HUD 빨간색 점멸
- 마지막 1발 → 슬로모션 연출
- 보급 낙하산 놓치면 화면 밖으로 사라짐

## 사운드 디자인 (Web Audio API 합성)

외부 오디오 파일 없이 전부 프로시저럴 합성:

| 효과 | 구현 방식 |
|------|-----------|
| 총성 | 노이즈 버스트 + 로우패스 필터 |
| 슬라이드 철컥 | 짧은 클릭 톤 |
| 탄창 삽입/분리 | 금속 클릭 (짧은 사인파) |
| 활 시위 당기기 | 삐걱 (주파수 스윕 업) |
| 화살 발사 | 퉁 (주파수 스윕 다운) |
| 과녁 명중 | 나무 타격음 (필터드 노이즈) |
| 보급품 낙하 | 바람 소리 (화이트 노이즈 페이드) |
| 콤보 | 상승 톤 (피치 올라감) |
| 게임 오버 | 하강 톤 |

## 비주얼 스타일

리얼리스틱 사격장 테마:

- **배경**: 나무 벽, 천장 조명, 원근감 있는 사격 레인
- **총기**: 금속 질감 그라디언트, 반사광 하이라이트
- **활**: 나무 질감, 시위는 가느다란 선
- **과녁**: 나무 텍스처 원형, 명중 시 구멍 + 나무 파편 파티클
- **총구 화염**: 오렌지/노란 원형 플래시 (짧게)
- **화살 궤적**: 포물선 경로 + 잔상 효과
- **보급품**: 작은 상자 + 낙하산 아이콘, 흔들리며 낙하
- **UI**: 군용 느낌 HUD (각진 폰트, 어두운 톤)

## 초기 구현 범위 (MVP)

웹 버전 우선, 권총 + 활 2개 무기만:

1. 사격장 배경 + 원근감 렌더링
2. 에이밍 (드래그로 시야 이동)
3. 권총 조작 (장전, 발사, 재장전 풀 플로우)
4. 활 조작 (화살 장전, 시위 당기기, 발사)
5. 과녁 시스템 (5종류 + 이동 + 난이도 진행)
6. 아이템 드랍 & 줍기
7. 점수 & 콤보 시스템
8. 사운드 (Web Audio 합성)
9. 게임 오버 & 하이스코어

## 추후 확장 가능
- 모바일 자이로스코프 에이밍
- 무기 추가 (샷건, 석궁, 스나이퍼 등)
- 스킨/커스터마이징
- 리더보드
